# Notification Service Configuration

# Server
PORT=8080
SERVICE_NAME=notification-service

# Database Configuration
DATABASE_URL=postgresql://pos_user:pos_password@postgres:5432/pos_db?sslmode=disable

# Redis Configuration
REDIS_HOST=redis:6379
REDIS_PASSWORD=pos_password
REDIS_DB=0
# Optional convenience single-url for Redis (if provided, takes precedence over REDIS_HOST)
REDIS_URL=redis://:pos_password@redis:6379/0

# Kafka Configuration
KAFKA_BROKERS=kafka:29092
KAFKA_GROUP_ID=notification-service-group
KAFKA_TOPIC=notification-events
KAFKA_TOPIC_EMAILS=email-notifications
KAFKA_AUDIT_TOPIC=audit-events

# Email Configuration
SMTP_HOST=mailhog
SMTP_PORT=1025
SMTP_USERNAME=test
SMTP_PASSWORD=test
SMTP_FROM=noreply@example.com
SMTP_TLS=false
SMTP_RETRY_ATTEMPTS=3
SMTP_ENABLE=false

# SMS Configuration (optional)
SMS_PROVIDER=twilio
SMS_API_KEY=
SMS_API_SECRET=
SMS_FROM_NUMBER=

# Push Notifications (optional)
FIREBASE_CREDENTIALS_PATH=
FCM_API_KEY=

# Environment
ENVIRONMENT=development
LOG_LEVEL=debug

# Frontend Configuration
FRONTEND_DOMAIN=http://localhost:3000

ORDER_AGG_WINDOW_SECONDS=5
TEMPLATE_DIR=./templates

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# Test Rate Limiting (for integration tests)
TEST_NOTIFICATION_RATE_LIMIT=5
TEST_NOTIFICATION_BURST=2

# Observability
OTEL_COLLECTOR_ENDPOINT=otel-collector:4317

# Vault Configuration (UU PDP Encryption)
VAULT_ADDR=http://vault:8200
VAULT_TOKEN=dev-root-token
VAULT_TRANSIT_KEY=pos-encryption-key